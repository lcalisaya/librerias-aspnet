@page "/counter"

<h1>Counter</h1>

<p>Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        try
        {
            Log.Debug("Debugging my app with Serilog...");
            Log.Information("Hello {Name}!", Environment.GetEnvironmentVariable("USERNAME"));
            Log.Warning("It was expected to match another result here");

            currentCount++;

            ThrowAnError();
        }
        catch (Exception e)
        {
            Log.Error(e.Message);
            Log.Error(e, "An error occurred!");
        }

        Log.CloseAndFlush();
    }

    void ThrowAnError()
    {
        throw new NullReferenceException();
    }
}
